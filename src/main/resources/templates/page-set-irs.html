<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ISI IRS</title>
    <script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    <script>
        $(document).ready(function(){
            $("input[type=radio]").click(function () {
                alert("HALLLO")
            });
        });
    </script>

</head>
<body  th:object="${jadwal}">

    <h1 th:text="|Daftar Mata Kuliah yang Ditawarkan Periode ${jadwal.term.tahunAjar} term ${jadwal.term.nomor}|"></h1>

    <form action="#" th:action="@{/irs}" th:method="post">

        <div th:object="${jadwal.term}" style="display:none;">
            <input th:type="text" th:field="*{tahunAjar}" th:value="*{tahunAjar}"></input>
            <input th:type="text" th:field="*{nomor}" th:value="*{nomor}"></input>
        </div>

        <table>
            <thead>
            <tr>
                <th></th>
                <th>Mata Kuliah</th>
                <th>Kap.</th>
                <th>Mhs.</th>
                <th>Waktu</th>
                <th>Ruang</th>
                <th>Pengajar</th>
            </tr>
            </thead>

            <tbody>

                <div th:each="mataKuliah, stat : *{matkul}" th:object="${mataKuliah}">

                    <tr>
                        <td colspan="7">
                            <p th:text="*{kodeMK} + ' ' + *{nama} + ' (' +*{sks} + ' SKS); Kurikulum ' + *{kurikulum}"></p>
                        </td>
                    </tr>

                    <tr th:each="currentKelas, state : *{kelas}" th:object="${currentKelas}">

                        <div th:object="${jadwal.matkul[__${stat.index}__].kelas[__${state.index}__]}"
                             style="display:none;">
                            <input th:type="text" th:field="*{kodeMK}"></input>
                            <input th:type="text" th:field="*{kurikulum}"></input>
                            <input th:type="text" th:field="*{idKelas}"></input>
                            <input th:type="text" th:field="*{namaMK}"></input>
                            <input th:type="text" th:field="*{namaKelas}"></input>
                            <input th:type="text" th:field="*{sks}"></input>
                        </div>

                        <td>
                            <input type="radio"
                                   th:value="${state.index}"
                                   th:field="${jadwal.matkul[__${stat.index}__].selectedKelasIdx}"></input>
                        </td>
                        <td>
                            <span th:text="*{namaKelas}"></span>
                        </td>
                        <td>
                            <span th:text="*{kapasitas}"></span>
                        </td>
                        <td>
                            <span th:text="*{mahasiswaSaatIni}"></span>
                        </td>
                        <td>
                            <div th:each="waktuBelajar : *{waktu}" th:object="${waktuBelajar}">
                                <span th:text="*{hari} + ', ' + *{jamMulai} + '-' + *{jamAkhir}"></span>
                            </div>
                        </td>
                        <td>
                            <div th:each="waktuBelajar : *{waktu}" th:object="${waktuBelajar}" >
                                <span th:text="*{ruangan}"></span><br></br>
                            </div>
                        </td>
                        <td>
                            <div th:each="waktuBelajar : *{waktu}" th:object="${waktuBelajar}">
                                <span th:each="dosen : *{dosenPengajars}"  th:object="${dosen}">
                                    <span th:text="*{nama} "></span>
                                </span><br></br>
                            </div>
                        </td>
                    </tr>

                </div>
            </tbody>
        </table>
        <button type="submit">Save</button>
    </form>

</body>
</html>